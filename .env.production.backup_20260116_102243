# ===================================
# Production Environment Template
# ===================================
# WARNUNG: NIEMALS mit echten Production-Secrets committen!
#
# Setup:
# 1. Kopiere diese Datei: cp .env.production.example .env.production
# 2. Generiere sichere Secrets (siehe unten)
# 3. Passe Domain und Email an
# 4. Stelle sicher: .env.production ist in .gitignore!

# ===================================
# Domain Configuration
# ===================================
DOMAIN=messenger.yourdomain.com

# ===================================
# PostgreSQL Database
# ===================================
POSTGRES_DB=messenger_production
POSTGRES_USER=messenger_prod
POSTGRES_PASSWORD=rfBRqEkSLygVIo7asJwMAGNW95zCdtHn

# Generieren mit:
# openssl rand -base64 32

# ===================================
# JWT Authentication
# ===================================
JWT_SECRET=DMvlBt8yNaFy51DbwsJEN9jOpTtyLNJwz+KFWso+9DwM9YaxJYNw3u7tkM3F5f8P
JWT_ISSUER=MessengerProductionAuthService
JWT_AUDIENCE=MessengerProductionClient
JWT_EXPIRY_MINUTES=15

# Generieren mit:
# openssl rand -base64 64

# ===================================
# TOTP Encryption (MFA)
# ===================================
TOTP_ENCRYPTION_KEY=LmVJ5hUBbuWJCIUjKop94MkPls/NGdDhk4d4BPM23ggr9xhu59HKzKwH7cTUg8q9

# Generieren mit:
# openssl rand -base64 64

# ===================================
# Redis Cache
# ===================================
REDIS_PASSWORD=SqG0r7fNCXTvA3skudiEWVPw4lnJxtmj

# Generieren mit:
# openssl rand -base64 32

# ===================================
# RabbitMQ Message Queue
# ===================================
RABBITMQ_USER=messenger_prod
RABBITMQ_PASSWORD=lqDFfyXTC3QJsBzWLUckaKgdInE2joex

# Generieren mit:
# openssl rand -base64 32

# ===================================
# Email Configuration (Optional)
# ===================================
# Für Benachrichtigungen, Passwort-Reset, etc.

SMTP_HOST=smtp.yourmailprovider.com
SMTP_PORT=587
SMTP_USER=notifications@yourdomain.com
SMTP_PASSWORD=CHANGE_THIS
SMTP_FROM_ADDRESS=noreply@yourdomain.com
SMTP_FROM_NAME=Secure Messenger

# ===================================
# Monitoring (Optional)
# ===================================
# Sentry für Error Tracking
SENTRY_DSN=https://...@sentry.io/...

# Application Insights (Azure)
# APPINSIGHTS_INSTRUMENTATIONKEY=your-key-here

# ===================================
# Backup Configuration (Optional)
# ===================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ===================================
# Security Settings
# ===================================
# CORS Allowed Origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://messenger.yourdomain.com,https://app.yourdomain.com

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ===================================
# Logging
# ===================================
LOG_LEVEL=Information
LOG_TO_FILE=true
LOG_FILE_PATH=/var/log/messenger/app.log

# ===================================
# Feature Flags (Optional)
# ===================================
FEATURE_MFA_ENABLED=true
FEATURE_FILE_UPLOAD_ENABLED=true
FEATURE_GROUP_CHAT_ENABLED=true

# ===================================
# Performance Tuning
# ===================================
# Database Connection Pooling
DB_MAX_POOL_SIZE=100
DB_MIN_POOL_SIZE=10

# Redis Connection Pooling
REDIS_MAX_CONNECTIONS=50

# ===================================
# QUICK SETUP GUIDE
# ===================================
#
# 1. Generate all secrets:
#    ./scripts/generate-production-secrets.sh
#
# 2. Or manually:
#    JWT_SECRET=$(openssl rand -base64 64)
#    TOTP_ENCRYPTION_KEY=$(openssl rand -base64 64)
#    POSTGRES_PASSWORD=$(openssl rand -base64 32)
#    REDIS_PASSWORD=$(openssl rand -base64 32)
#    RABBITMQ_PASSWORD=$(openssl rand -base64 32)
#
# 3. Replace DOMAIN with your actual domain
#
# 4. Configure email settings (if needed)
#
# 5. Save as .env.production
#
# 6. Verify:
#    cat .env.production | grep "CHANGE_THIS"
#    # Should return nothing!
#
# ===================================
